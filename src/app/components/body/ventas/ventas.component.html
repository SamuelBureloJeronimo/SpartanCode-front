<div class="bodyStyle" id="TableID">
  <h1 style="margin: 10px; font-weight: bold;">Ordenes de ventas</h1>
  <div class="bodyModal">
  <table class="table table-hover text-center">
    <thead>
      <tr>
        <th scope="col">Fecha de compra</th>
        <th scope="col">Imagen</th>
        <th scope="col">Nombre</th>
        <th scope="col">Cantidad</th>
        <th scope="col">Total</th>
        <th scope="col">Estado</th>
        <th scope="col">Descargar etiqueta</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let c of sales">
        <td class="normalTD">{{ c.fecha | date: 'dd/MM/yyyy HH:mm:ss' }}</td>
        <td><img src='{{this.url+c.articulo.imagen}}' height="150px"></td>
        <td class="normalTD">{{ c.articulo.nombre }}</td>
        <td class="normalTD">{{ c.cantidad }}</td>
        <td class="peso">{{ c.total | currency:'MXN':'symbol':'1.2-2'}}</td>
        <td class="enEspera">
          <div class="btn-group" style="width: 100%;" *ngIf="c.status !== 'Entregado y Confirmado'">
          <button type="button" class="btn btn-danger dropdown-toggle" data-bs-toggle="dropdown" aria-expanded="false">
            {{c.status}}
          </button>
          <ul class="dropdown-menu">
            <li><a class="dropdown-item" (click)="changeStatus(c,'En preparacion')">En preparación</a></li>
            <li><a class="dropdown-item" (click)="changeStatus(c,'En camino')">En camino</a></li>
            <li><a class="dropdown-item" (click)="changeStatus(c,'Entregado')">Entregado</a></li>
          </ul>
        </div>
        <div *ngIf="c.status === 'Entregado y Confirmado'">El cliente confirmo la entrega</div>
      </td>
        <td class="normalTD"><button type="button" class="btn btn-info" (click)="generatePDF(c)">Descargar etiqueta</button></td>
      </tr>
    </tbody>
  </table>
</div>
</div>

<div style="width: 800px;" hidden>
  <div id="contentToConvert" class="p-3 mb-3" style="width: 800px;">
    <div class="headerEtiq">
      <div>
        <img class="logo" src="../../../../assets/Logo.png" width="50px">
      </div>
      <div style="margin-left: 20px;">
        <h1 style="font-weight: bold; color: rgb(255, 100, 23);">VisionSoft</h1>
      </div>
    </div>

    <div class="bodyEtiq">
      <div class="bodySectionEtiq">
        DE: VisionSoft<br> <br>
        Macuspana, Tabasco. <br>
        Código postal: 86709 <br>
        Col. Josefa Órtiz de Domínguez. <br>
        Calle: José Antonio Torres
        <div style="display: flex; justify-content: center;">
          <img src="../../../../assets/img/caja-de-entrega.png" width="60px">
        </div>
        </div>
      <div class="correoEtiq">
        <div class="nombreEtiq">
          <h1>DHL Express</h1>
        </div>
        <div class="descEtiq">
          Destino: {{this.sale.address.municipio}}, {{this.sale.address.estado}}. <br>
          Entregar a: {{this.sale.address.nombreRef}} <br> <br>
          Colonia: {{this.sale.address.colonia}}, calle {{this.sale.address.calle}} <br>
          Código postal: {{this.sale.address.cp}} <br><br>
          Descripción de domicilio: {{this.sale.address.descripcionDomicilio}}
        </div>
      </div>
    </div>

    <div class="footerEtiq">
      <div class="footerSectionEtiq">
        <div class="fragilEtiq">
          <img src="../../../../assets/fragil.jpg" width="250px">
        </div>
        <div class="fragilEtiq">
          {{sale.noDeGuia}}
        </div>
      </div>

      <div class="QR_Bar">
        <img src="../../../../assets/QR_prueba.jpg" width="150px">
      </div>

    </div>

    <div class="headerEtiq" style="margin-top: 30px; border: none;">
      <h4 style="font-weight: bold;">Detalles del producto</h4>
    </div>
    <table class="table" style="margin-top: 5px;">
      <thead>
        <tr>
          <th scope="col">Imagen</th>
          <th scope="col">Nombre</th>
          <th scope="col">Total</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <th scope="row"><img src="{{this.url+sale.articulo.imagen}}" width="50px"></th>
          <td>{{sale.articulo.nombre}}</td>
          <td>{{sale.total | currency:'MXN':'symbol':'1.2-2'}}</td>
        </tr>
      </tbody>
    </table>

  </div>
</div>
